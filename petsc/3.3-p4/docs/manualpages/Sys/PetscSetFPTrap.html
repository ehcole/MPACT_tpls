<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML3.2 EN">
<HTML>
<HEAD> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/Sys/PetscSetFPTrap.html" />
<META NAME="GENERATOR" CONTENT="DOCTEXT">
<TITLE>PetscSetFPTrap</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
   <div id="version" align=right><b>petsc-3.3-p4 2012-10-26</b></div>
<A NAME="PetscSetFPTrap"><H1>PetscSetFPTrap</H1></A>
Enables traps/exceptions on common floating point errors. This option may not work on certain machines. 
<H3><FONT COLOR="#CC3333">Synopsis</FONT></H3>
<PRE>
#include "petscsys.h"  
PetscErrorCode PetscSetFPTrap(PetscFPTrap flag)
</PRE>
Not Collective
<P>
<H3><FONT COLOR="#CC3333">Input Parameters</FONT></H3>
<DT><B>flag </B> -PETSC_FP_TRAP_ON, PETSC_FP_TRAP_OFF.
<br>
<P>
<H3><FONT COLOR="#CC3333">Options Database Keys</FONT></H3>
<DT><B>-fp_trap </B> -Activates floating point trapping
<br>
<P>

<P>
<H3><FONT COLOR="#CC3333">Description</FONT></H3>
On systems that support it, this routine causes floating point
overflow, divide-by-zero, and invalid-operand (e.g., a NaN) to
cause a message to be printed and the program to exit.
<P>
<H3><FONT COLOR="#CC3333">Note</FONT></H3>
On many common systems including x86 and x86-64 Linux, the floating
point exception state is not preserved from the location where the trap
occurred through to the signal handler.  In this case, the signal handler
will just say that an unknown floating point exception occurred and which
function it occurred in.  If you run with -fp_trap in a debugger, it will
break on the line where the error occurred.  You can check which
exception occurred using fetestexcept(FE_ALL_EXCEPT).  See fenv.h
(usually at /usr/include/bits/fenv.h) for the enum values on your system.
<P>
<H3><FONT COLOR="#CC3333">Caution</FONT></H3>
On certain machines, in particular the IBM rs6000, floating point
trapping is VERY slow!
<P>
<P>
<H3><FONT COLOR="#CC3333">See Also</FONT></H3>
 <A HREF="../Sys/PetscFPTrapPush.html#PetscFPTrapPush">PetscFPTrapPush</A>(), <A HREF="../Sys/PetscFPTrapPop.html#PetscFPTrapPop">PetscFPTrapPop</A>()
<BR><P><B><P><B><FONT COLOR="#CC3333">Level:</FONT></B>advanced
<BR><FONT COLOR="#CC3333">Location:</FONT></B><A HREF="../../../src/sys/error/fp.c.html#PetscSetFPTrap">src/sys/error/fp.c</A>
<BR><A HREF="./index.html">Index of all Sys routines</A>
<BR><A HREF="../../index.html">Table of Contents for all manual pages</A>
<BR><A HREF="../singleindex.html">Index of all manual pages</A>
</BODY></HTML>
