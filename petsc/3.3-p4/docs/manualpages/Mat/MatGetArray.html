<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML3.2 EN">
<HTML>
<HEAD> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/Mat/MatGetArray.html" />
<META NAME="GENERATOR" CONTENT="DOCTEXT">
<TITLE>MatGetArray</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
   <div id="version" align=right><b>petsc-3.3-p4 2012-10-26</b></div>
<A NAME="MatGetArray"><H1>MatGetArray</H1></A>
Returns a pointer to the element values in the matrix. The result of this routine is dependent on the underlying matrix data structure, and may not even work for certain matrix types.  You MUST call <A HREF="../Mat/MatRestoreArray.html#MatRestoreArray">MatRestoreArray</A>() when you no longer need to access the array. 
<H3><FONT COLOR="#CC3333">Synopsis</FONT></H3>
<PRE>
#include "petscmat.h" 
PetscErrorCode  MatGetArray(Mat mat,PetscScalar *v[])
</PRE>
Not Collective
<P>
<H3><FONT COLOR="#CC3333">Input Parameter</FONT></H3>
<DT><B>mat </B> -the matrix
<br>
<P>
<H3><FONT COLOR="#CC3333">Output Parameter</FONT></H3>
<DT><B>v </B> -the location of the values
<br>
<P>
<P>
<H3><FONT COLOR="#CC3333">Fortran Note</FONT></H3>
This routine is used differently from Fortran, e.g.,
<PRE>
        <A HREF="../Mat/Mat.html#Mat">Mat</A>         mat
        <A HREF="../Sys/PetscScalar.html#PetscScalar">PetscScalar</A> mat_array(1)
        <A HREF="../Sys/PetscOffset.html#PetscOffset">PetscOffset</A> i_mat
        <A HREF="../Sys/PetscErrorCode.html#PetscErrorCode">PetscErrorCode</A> ierr
        call <A HREF="../Mat/MatGetArray.html#MatGetArray">MatGetArray</A>(mat,mat_array,i_mat,ierr)

  C  Access first local entry in matrix; note that array is
  C  treated as one dimensional
        value = mat_array(i_mat + 1)

        [... other code ...]
        call <A HREF="../Mat/MatRestoreArray.html#MatRestoreArray">MatRestoreArray</A>(mat,mat_array,i_mat,ierr)
</PRE>

<P>
See the &lt;a href="../../docs/manual.pdf#<A HREF="../../manual.pdf#chapter.9">Chapter 9 PETSc for Fortran Users</A>"&gt;Fortran chapter of the users manual&lt;/a&gt; and
src/mat/examples/tests for details.
<P>

<P>
<P>
<H3><FONT COLOR="#CC3333">See Also</FONT></H3>
 <A HREF="../Mat/MatRestoreArray.html#MatRestoreArray">MatRestoreArray</A>(), <A HREF="../Mat/MatGetArrayF90.html#MatGetArrayF90">MatGetArrayF90</A>(), <A HREF="../Mat/MatGetRowIJ.html#MatGetRowIJ">MatGetRowIJ</A>()
<BR><P><B><P><B><FONT COLOR="#CC3333">Level:</FONT></B>advanced
<BR><FONT COLOR="#CC3333">Location:</FONT></B><A HREF="../../../src/mat/interface/matrix.c.html#MatGetArray">src/mat/interface/matrix.c</A>
<BR><A HREF="./index.html">Index of all Mat routines</A>
<BR><A HREF="../../index.html">Table of Contents for all manual pages</A>
<BR><A HREF="../singleindex.html">Index of all manual pages</A>
<P><H3><FONT COLOR="#CC3333">Examples</FONT></H3>
<A HREF="../../../src/ksp/ksp/examples/tutorials/ex30.c.html">src/ksp/ksp/examples/tutorials/ex30.c.html</A><BR>
</BODY></HTML>
