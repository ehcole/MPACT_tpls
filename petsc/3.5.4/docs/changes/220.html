
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
 <html>
  <head> <link rel="canonical" href="http://www.mcs.anl.gov/petsc/petsc-current/docs/changes/220.html" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <title>Documentation: Changes: 2.2.0</title>
  </head>
  <body bgcolor="#ffffff">
   <div id="version" align=right><b>petsc-3.5.4 2015-05-23</b></div>
   <div id="bugreport" align=right><a href="mailto:petsc-maint@mcs.anl.gov?subject=Typo or Error in Documentation &body=Please describe the typo or error in the documentation: petsc-3.5.4 v3.5.3-68-g9fbf19a docs/changes/220.html "><small>Report Typos and Errors</small></a></div>

    <h1>Documentation: Changes: 2.2.0</h1>

    

    <style type="text/css">
      h2 {
        color: red;
      }

      h4 {
        font-weight: bold;
        text-decoration: underline;
      }
    </style>

    <div id="main">

      <div align="center">
        <h2><a name="CHANGES">CHANGES in PETSc 2.2.0</a></h2>
      </div>

      <h4>General:</h4>

      <ul>
        <li>Changed petscengine.h to petscmatlab.h</li>

        <li>
          Changed PetscOptionsEList() to return the index of the string
          selected by the user (error if user enters impossible string)
        </li>
      </ul>

      <h4>Vec:</h4>

      <ul>
        <li>VecLoad() has a new argument giving the Vector type to be created</li>
      </ul>

      <h4>Mat:</h4>

      <ul>
        <li>
          If you use MAT_SYMMETRIC as option for MatSetOption() you will likely
          need to also use the option MAT_SYMMETRY_ETERNAL otherwise at the
          next MatAssembly the matrix will likly lose the symmetry flag.
        </li>

        <li>Added MatISGetLocalMat() to allow preallocating the local matrix.</li></ul>

      <h4>PC:</h4>
      <h4>KSP:</h4>

      <ul>
        <li>changed unmodifiedGramSchmidt name to classicalGramSchmidt everywhere.</li>

        <li>
          Eliminated KSPGMRESIROrthogonalize() now have
          KSPGMRESSetCGSRefinement() to decide when to use iterative refinement
        </li>

        <li>
          The SLES object has been removed from PETSc. All of this options are
          available via the KSP object. For example, -sles_view_binary
          -&gt;ksp_view_binary, SLESCreate()-&gt;KSPCreate() The calling
          sequences SLESSetUp(sles,b,x) should be replaced with
          KSPSetRhs(ksp,b) KSPSetSolution(ksp,x) KSPSetUp(ksp). Similarly
          SLESSolve(sles,b,x) should be replaced with KSPSetRhs(ksp,b)
          KSPSetSolution(ksp,x) KSPSolve(ksp)
        </li>

        <li>removed its argument from KSPSolve. Obtain the number of iterations via KSPGetIterationNumber()</li>
      </ul>

      <h4>SNES:</h4>

      <ul>
        <li>
          SNESSolve() no longer returns number of iterations, use
          SNESGetIterationNumber() to get the number of iterations
          required
        </li>
      </ul>

      <h4>TS:</h4>
      <h4>DMMG:</h4>

      <ul>
        <li>
          Added support for -dmmg_galerkin and DMMGSetUseGalerkin() for
          nonlinear problems (not sequential only)
        </li>
      </ul>

      <h4>SYS:</h4>

      <ul>
        <li>added new PETSC_VIEWER_MATLAB for saving variables to Matlab .mat files</li>

        <li>
          eliminated PetscViewerXXXXType and PetscViewerXXXSetType() replaced
          with PetscViewerFileType and PetscViewerSetFileType()
        </li>

        <li>
          PETSC_BINARY_RDONLY,PETSC_BINARY_WRONLY,PETSC_BINARY_CREATE becomes
          PETSC_FILE_RDONLY,PETSC_FILE_WRONLY,PETSC_FILE_CREATE
        </li>
      </ul>

      <h4>Fortran:</h4>
      <h4>ExternalPackages:</h4>

    </div>

    
  </body>
</html>
